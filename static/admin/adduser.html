<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/x-icon" href="https://od.lk/s/OTBfNDE0NjQxODBf/app_logo-playstore-removebg-preview.png"><title>Add user</title>


<script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
<link rel="stylesheet" href="../css/admin.css">
<style>
	    /* Style for overlay */
		.overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
      z-index: 9999; /* Ensure it's on top of everything */
    }

    /* Style for loading animation */
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 24px;
    }
</style>

</head>
<body>


<div class="wrapper hover_collapse">
	<div class="top_navbar">
		<div class="menu">
			<div class="hamburger">
				<i class="fas fa-bars"></i>
			</div>

		</div>
		<div class="logo">UB CAMPUS SAFETY</div>
		
	</div>

	<div class="sidebar">
		<div class="sidebar_inner">
		<ul>
			<li>
				<a href="/add-notice">
					<span class="icon"><i class="fas fa-bell"></i></span>
					<span class="text">Add Notice</span>
				</a>
			</li>
			<li>
				<a href="/add-contact">
					<span class="icon"><i class="fas fa-address-book"></i></span>
					<span class="text">Add Contact</span>
				</a>
			</li>
			<li>
				<a href="/add-user">
					<span class="icon"><i class="fa fa-user-plus"></i></span>
					<span class="text">Add User</span>
				</a>
			</li>
			<li>
				<a href="/view-reports">
					<span class="icon"><i class="fa fa-file"></i></span>
					<span class="text">View Report</span>
				</a>
			</li>
			<li>
				<a href="/view-log">
					<span class="icon"><i class="fa fa-book"></i></span>
					<span class="text">View Log</span>
				</a>
			</li>
			<li>
				<a href="/admin-profile">
					<span class="icon"><i class="fa fa-user"></i></span>
					<span class="text">Profile</span>
				</a>
			</li>
			<li>
				{{ if .IsAuthenticated }}
				<a href="/user/logout" method="POST"> <span class="icon"><i class="fa fa-arrow-left"></i></span>
				  <span class="text">Logout</span> </a>
				{{ end }}
			  </li>
    

		</ul>
		</div>
	</div>
</div>
<section>

<div class="container">
  <h2>Add User</h2>
  <form action="/create-user" method="POST" enctype="multipart/form-data">

    <label for="USERTYPE">TYPE:</label>
    <select id="gender" name="usertype">
      <option value="Admin">Admin</option>
      <option value="Guard">Security Officer</option>
      <option value="Student">Student</option>
    </select><br>

	<label for="username">username:</label>
    <input type="text" id="username" name="username" required><br>

    <label for="fname">First Name:</label>
    <input type="text" id="fname" name="fname" required><br>
    
    <label for="mname">Middle Name:</label>
    <input type="text" id="mname" name="mname"><br>
    
    <label for="lname">Last Name:</label>
    <input type="text" id="lname" name="lname" required><br>

    
    <label for="dob">Date of Birth:</label>
    <input type="date" id="dob" name="dob" ><br><br>
    
    <label for="gender">Gender:</label>
    <select id="gender" name="gender">
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select><br>
    
    <label for="imagedata">Image File:</label>
    <input type="file" id="imagedata" name="imagedata" accept="image/*"><br>
    
         <!-- Add overlay for loading animation -->
		 <div class="overlay" id="overlay">
			<div class="loading">Submitting...</div>
		  </div>
	
		  <input type="submit" value="Submit" class="buttonSubmit" onclick="showLoading()">
  </form>
</div>
</section>
<script>
	function showLoading() {
	  // Show overlay with loading animation
	  document.getElementById('overlay').style.display = 'block';
	}
  
	// Assuming successful submission redirects to /report
	window.onload = function() {
	  if (window.location.href.includes('/create-user')) {
		// Hide overlay if redirected to /report
		document.getElementById('overlay').style.display = 'none';
		// Change loading text to "Successful"
		document.querySelector('.loading').innerText = 'Successful';
	  }
	};
  </script>
<script src="../js/admin.js"></script>
</body>
</html>
